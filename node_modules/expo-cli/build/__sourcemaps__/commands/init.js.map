{"version":3,"sources":["commands/init.ts"],"names":["FEATURED_TEMPLATES","shortName","name","description","bare","BARE_WORKFLOW_TEMPLATES","action","projectDir","options","parentDir","dirName","root","path","resolve","dirname","basename","validationResult","validateName","CommandError","parent","nonInteractive","process","cwd","templateSpec","template","registry","escapedName","descriptionColumn","Math","max","map","t","length","type","message","pageSize","choices","prompt","separator","value","chalk","bold","stdout","columns","short","nonInteractiveHelp","filter","text","join","workflow","log","warn","initialConfig","templateManifest","pacote","manifest","isBare","includes","promptForBareConfig","promptForManagedConfig","packageManager","yarn","npm","shouldUseYarnAsync","projectPath","Exp","extractAndInitializeTemplateApp","expo","slug","cdPath","relative","nested","test","dir","isNonExistentOrEmptyDir","validateProjectName","fs","statSync","isDirectory","readdirSync","error","code","version","trim","semver","valid","answer","useYarn","e","projectName","undefined","displayName","values","Snippet","required","fields","initial","validate","JSON","stringify","run","program","command","alias","option","asyncAction"],"mappings":"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","file":"../../commands/init.js","sourceRoot":"/expo-cli@3.0.10/src"}